{"ast":null,"code":"import _toConsumableArray from\"/Users/shridharkamble/Desktop/Shridhar/nodeJSTutorial/ECommerceMERNWebsite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/shridharkamble/Desktop/Shridhar/nodeJSTutorial/ECommerceMERNWebsite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{Row,Col,Image,ListGroup,ListGroupItem,Card,Button,Form}from\"react-bootstrap\";import Rating from\"../components/Rating\";import{listProductDetails}from\"../actions/productActions\";import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productListDetails=useSelector(function(state){return state.productDetails;});console.log(productListDetails);var isLoading=productListDetails.isLoading,error=productListDetails.error,product=productListDetails.product;useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"bt btn-light my-3\",children:\"Go back\"}),isLoading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(\"h2\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[\"Price: \",product.price,\"\\u20B9\"]}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[\"Description: \",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price\"}),/*#__PURE__*/_jsxs(Col,{children:[product.price,\"\\u20B9\"]})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?\"In Stock\":\"Out Of Stock\"})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:product.countInStock===0,children:\"Add To Cart\"})})]})})})]})]});};export default ProductScreen;","map":{"version":3,"sources":["/Users/shridharkamble/Desktop/Shridhar/nodeJSTutorial/ECommerceMERNWebsite/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","Row","Col","Image","ListGroup","ListGroupItem","Card","Button","Form","Rating","listProductDetails","Loader","Message","ProductScreen","history","match","qty","setQty","dispatch","productListDetails","state","productDetails","console","log","isLoading","error","product","params","id","addToCartHandler","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useEffect,useState} from \"react\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Row,\n  Col,\n  Image,\n  ListGroup,\n  ListGroupItem,\n  Card,\n  Button,\n  Form,\n} from \"react-bootstrap\";\nimport Rating from \"../components/Rating\";\nimport { listProductDetails } from \"../actions/productActions\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\n\nconst ProductScreen = ({ history,match }) => {\n  const [qty, setQty] = useState(1);\n    const dispatch = useDispatch();\n    const productListDetails = useSelector((state) => state.productDetails)\n    console.log(productListDetails);\n    const { isLoading, error, product } = productListDetails;\n\n  \n    useEffect(() => {\n        dispatch(listProductDetails(match.params.id));\n    },[dispatch,match]);\n\n    const addToCartHandler=()=>{\n      history.push(`/cart/${match.params.id}?qty=${qty}`)\n    }\n\n  return (\n    <>\n      <Link to=\"/\" className=\"bt btn-light my-3\">\n        Go back\n      </Link>\n      {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <Row>\n          <Col md={6}>\n            <Image src={product.image} alt={product.name} fluid></Image>\n          </Col>\n          <Col md={3}>\n            <ListGroup variant=\"flush\">\n              <ListGroupItem>\n                <h2>{product.name}</h2>\n              </ListGroupItem>\n              <ListGroupItem>\n                <Rating\n                  value={product.rating}\n                  text={`${product.numReviews} reviews`}\n                />\n              </ListGroupItem>\n              <ListGroupItem>Price: {product.price}&#8377;</ListGroupItem>\n              <ListGroupItem>Description: {product.description}</ListGroupItem>\n            </ListGroup>\n          </Col>\n          <Col md={3}>\n            <Card>\n              <ListGroup variant=\"flush\">\n                <ListGroupItem>\n                  <Row>\n                    <Col>Price</Col>\n                    <Col>{product.price}&#8377;</Col>\n                  </Row>\n                </ListGroupItem>\n                <ListGroupItem>\n                  <Row>\n                    <Col>Status</Col>\n                    <Col>\n                      {product.countInStock > 0 ? \"In Stock\" : \"Out Of Stock\"}\n                    </Col>\n                  </Row>\n                </ListGroupItem>\n                {product.countInStock>0 && \n                  <ListGroupItem>\n                    <Row>\n                      <Col>Qty</Col>\n                      <Col>\n                        <Form.Control as='select' value={qty} onChange={(e)=>setQty(e.target.value)}>\n                          {[...Array(product.countInStock).keys()].map((x)=>( \n                            <option key={x+1} value={x+1}>{x+1}</option>\n                          ))}\n                        </Form.Control>\n                      </Col>\n                    </Row>\n                  </ListGroupItem>\n                }\n                <ListGroupItem>\n                  <Button\n                    onClick={addToCartHandler}\n                    className=\"btn-block\"\n                    type=\"button\"\n                    disabled={product.countInStock === 0}\n                  >\n                    Add To Cart\n                  </Button>\n                </ListGroupItem>\n              </ListGroup>\n            </Card>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n};\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}