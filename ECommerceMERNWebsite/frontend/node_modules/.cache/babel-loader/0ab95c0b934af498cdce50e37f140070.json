{"ast":null,"code":"import React,{useEffect}from\"react\";import{Link}from\"react-router-dom\";import{Row,Button,Col,Image,Card,ListGroup}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import Message from\"../components/Message\";import Loader from\"../components/Loader\";import{getOrderDetail}from\"../actions/orderAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OrderScreen=function OrderScreen(_ref){var match=_ref.match;var orderId=match.params.id;var dispatch=useDispatch();var orderDetail=useSelector(function(state){return state.orderDetail;});var order=orderDetail.order,isLoading=orderDetail.isLoading,error=orderDetail.error;//calculate Price\nif(!isLoading){order.itemsPrice=order.orderItems.reduce(function(acc,currItem){return acc+currItem.qty*currItem.price;},0);}useEffect(function(){dispatch(getOrderDetail(orderId));},[dispatch,orderId]);return isLoading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Order Details\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name: \"}),order.user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(order.user.email),children:order.user.email})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address: \"}),order.shippingAddress.address,\", \",order.shippingAddress.city,\" ,\",order.shippingAddress.postalCode,\" ,\",order.shippingAddress.country]}),order.isDelivered?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Delivered to \",order.shippingAddress]}):/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:\"Not Delivered\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Method\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Method: \"}),order.paymentMethod,order.isPaid?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Paid with \",order.paymentMethod]}):/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:\"Not Paid\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Items\"}),order.orderItems.length===0?\"Order Is Empty\":/*#__PURE__*/_jsx(ListGroup,{children:order.orderItems.map(function(item,index){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[item.qty,\" X \",item.price,\"\\u20B9 =\",\" \",item.qty*item.price,\"\\u20B9;\"]})]})},index);})})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Order Summary\"})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Items Price\"}),/*#__PURE__*/_jsxs(Col,{children:[order.itemsPrice,\"\\u20B9\"]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Shipping\"}),/*#__PURE__*/_jsxs(Col,{children:[order.shippingPrice,\"\\u20B9\"]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"GST\"}),/*#__PURE__*/_jsxs(Col,{children:[order.taxPrice,\"\\u20B9\"]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Total\"}),/*#__PURE__*/_jsxs(Col,{children:[order.totalPrice,\"\\u20B9\"]})]})}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-block\",disabled:true,children:\"Place Order\"})})]})})})]})]});};export default OrderScreen;","map":{"version":3,"sources":["/Users/shridharkamble/Desktop/Shridhar/nodeJSTutorial/ECommerceMERNWebsite/frontend/src/screens/OrderScreen.js"],"names":["React","useEffect","Link","Row","Button","Col","Image","Card","ListGroup","useDispatch","useSelector","Message","Loader","getOrderDetail","OrderScreen","match","orderId","params","id","dispatch","orderDetail","state","order","isLoading","error","itemsPrice","orderItems","reduce","acc","currItem","qty","price","user","name","email","shippingAddress","address","city","postalCode","country","isDelivered","paymentMethod","isPaid","length","map","item","index","image","product","shippingPrice","taxPrice","totalPrice"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Button, Col, Image, Card, ListGroup } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { getOrderDetail } from \"../actions/orderAction\";\n\nconst OrderScreen = ({ match }) => {\n      const orderId = match.params.id;\n\n      const dispatch = useDispatch();\n      const orderDetail = useSelector((state) => state.orderDetail);\n      const { order, isLoading, error } = orderDetail;\n      //calculate Price\n      if(!isLoading){\n        order.itemsPrice=order.orderItems.reduce((acc,currItem)=>acc+currItem.qty*currItem.price,0);\n      }\n         \n      useEffect(() => {\n        dispatch(getOrderDetail(orderId));\n      }, [dispatch,orderId]);  \n\n  return isLoading ? (\n    <Loader />\n  ) : error ? (\n    <Message variant=\"danger\">{error}</Message>\n  ) : (\n    <>\n      <h1>Order Details</h1>\n      <Row>\n        <Col md={8}>\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              <h2>Shipping</h2>\n              <p>\n                <strong>Name: </strong>\n                {order.user.name}\n              </p>\n              <p>\n                <strong>Email: </strong>\n                <a href={`mailto:${order.user.email}`}>{order.user.email}</a>\n              </p>\n              <p>\n                <strong>Address: </strong>\n                {order.shippingAddress.address}, {order.shippingAddress.city} ,\n                {order.shippingAddress.postalCode} ,\n                {order.shippingAddress.country}\n              </p>\n              {order.isDelivered ? (\n                <Message variant=\"success\">\n                  Delivered to {order.shippingAddress}\n                </Message>\n              ) : (\n                <Message variant=\"danger\">Not Delivered</Message>\n              )}\n            </ListGroup.Item>\n\n            <ListGroup.Item>\n              <h2>Payment Method</h2>\n              <strong>Method: </strong>\n              {order.paymentMethod}\n              {order.isPaid ? (\n                <Message variant=\"success\">\n                  Paid with {order.paymentMethod}\n                </Message>\n              ) : (\n                <Message variant=\"danger\">Not Paid</Message>\n              )}\n            </ListGroup.Item>\n\n            <ListGroup.Item>\n              <h2>Order Items</h2>\n              {order.orderItems.length === 0 ? (\n                \"Order Is Empty\"\n              ) : (\n                <ListGroup>\n                  {order.orderItems.map((item, index) => (\n                    <ListGroup.Item key={index}>\n                      <Row>\n                        <Col md={1}>\n                          <Image\n                            src={item.image}\n                            alt={item.name}\n                            fluid\n                            rounded\n                          ></Image>\n                        </Col>\n                        <Col>\n                          <Link to={`/product/${item.product}`}>\n                            {item.name}\n                          </Link>\n                        </Col>\n                        <Col md={4}>\n                          {item.qty} X {item.price}&#8377; ={\" \"}\n                          {item.qty * item.price}&#8377;;\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                  ))}\n                </ListGroup>\n              )}\n            </ListGroup.Item>\n          </ListGroup>\n        </Col>\n        <Col md={4}>\n          <Card>\n            <ListGroup>\n              <ListGroup.Item>\n                <h2>Order Summary</h2>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Items Price</Col>\n                  <Col>{order.itemsPrice}&#8377;</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Shipping</Col>\n                  <Col>{order.shippingPrice}&#8377;</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>GST</Col>\n                  <Col>{order.taxPrice}&#8377;</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Total</Col>\n                  <Col>{order.totalPrice}&#8377;</Col>\n                </Row>\n              </ListGroup.Item>\n              {error && <Message variant=\"danger\">{error}</Message>}\n              <ListGroup.Item>\n                <Button\n                  type=\"button\"\n                  className=\"btn-block\"\n                  disabled\n                >\n                  Place Order\n                </Button>\n              </ListGroup.Item>\n            </ListGroup>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default OrderScreen;\n"]},"metadata":{},"sourceType":"module"}