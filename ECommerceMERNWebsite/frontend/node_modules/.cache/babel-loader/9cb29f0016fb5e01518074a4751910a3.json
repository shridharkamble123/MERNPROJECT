{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shridharkamble/Desktop/Shridhar/nodeJSTutorial/ECommerceMERNWebsite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/shridharkamble/Desktop/Shridhar/nodeJSTutorial/ECommerceMERNWebsite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var axios=require(\"axios\");var _require=require(\"../constants/userLoginConstants\"),USER_LOGIN_REQUEST=_require.USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS=_require.USER_LOGIN_SUCCESS,USER_LOGIN_FAILURE=_require.USER_LOGIN_FAILURE,USER_LOGOUT=_require.USER_LOGOUT,USER_REGISTER_SUCCESS=_require.USER_REGISTER_SUCCESS,USER_REGISTER_REQUEST=_require.USER_REGISTER_REQUEST,USER_REGISTER_FAILURE=_require.USER_REGISTER_FAILURE,USER_DETAILS_SUCCESS=_require.USER_DETAILS_SUCCESS,USER_DETAILS_FAILURE=_require.USER_DETAILS_FAILURE,USER_DETAILS_REQUEST=_require.USER_DETAILS_REQUEST,USER_LIST_FAILURE=_require.USER_LIST_FAILURE,USER_LIST_REQUEST=_require.USER_LIST_REQUEST,USER_LIST_SUCCESS=_require.USER_LIST_SUCCESS;export var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:USER_LOGIN_REQUEST});config={headers:{'Content-Type':'application/json'}};_context.next=5;return axios.post(\"api/user/login\",{email:email,password:password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:USER_LOGIN_FAILURE,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var logout=function logout(){return function(dispatch){localStorage.removeItem('userInfo');dispatch({type:USER_LOGOUT});};};export var register=function register(name,email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:USER_REGISTER_REQUEST});config={headers:{'Content-Type':'application/json'}};_context2.next=5;return axios.post(\"api/user/\",{name:name,email:email,password:password},config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:USER_REGISTER_SUCCESS,payload:data});dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);dispatch({type:USER_REGISTER_FAILURE,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getUserDetail=function getUserDetail(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState,userInfo,config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:USER_DETAILS_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;console.log(userInfo.token);config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context3.next=7;return axios.get(\"/api/user/\".concat(id),config);case 7:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;console.log(data);dispatch({type:USER_DETAILS_SUCCESS,payload:data});_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);dispatch({type:USER_DETAILS_FAILURE,payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};export var listUser=function listUser(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState2,userInfo,config,_yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:USER_LIST_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context4.next=6;return axios.get(\"/api/user\",config);case 6:_yield$axios$get2=_context4.sent;data=_yield$axios$get2.data;dispatch({type:USER_LIST_SUCCESS,payload:data});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);dispatch({type:USER_LIST_FAILURE,payload:_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/shridharkamble/Desktop/Shridhar/nodeJSTutorial/ECommerceMERNWebsite/frontend/src/actions/userAction.js"],"names":["axios","require","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGOUT","USER_REGISTER_SUCCESS","USER_REGISTER_REQUEST","USER_REGISTER_FAILURE","USER_DETAILS_SUCCESS","USER_DETAILS_FAILURE","USER_DETAILS_REQUEST","USER_LIST_FAILURE","USER_LIST_REQUEST","USER_LIST_SUCCESS","login","email","password","dispatch","type","config","headers","post","data","payload","localStorage","setItem","JSON","stringify","response","message","logout","removeItem","register","name","getUserDetail","id","getState","userInfo","userLogin","console","log","token","Authorization","get","listUser"],"mappings":"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","sourcesContent":["const axios = require(\"axios\");\nconst {\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGIN_FAILURE,\n  USER_LOGOUT,\n  USER_REGISTER_SUCCESS,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_FAILURE,\n  USER_DETAILS_SUCCESS,\n  USER_DETAILS_FAILURE,\n  USER_DETAILS_REQUEST,\n  USER_LIST_FAILURE,\n  USER_LIST_REQUEST,\n  USER_LIST_SUCCESS,\n} = require(\"../constants/userLoginConstants\");\n\nexport const login = (email,password) => async (dispatch) => {\n  try {\n    dispatch({ type: USER_LOGIN_REQUEST });\n    const config={\n      headers:{\n        'Content-Type':'application/json'\n      }\n    }\n\n\n    const { data } = await axios.post(\"api/user/login\",{email,password},config);\n  \n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n\n    localStorage.setItem('userInfo',JSON.stringify(data))\n    \n  } catch (e) {\n    dispatch({\n      type: USER_LOGIN_FAILURE,\n      payload:\n        e.response && e.response.data.message\n          ? e.response.data.message\n          : e.message,\n    });\n  }\n};\n\nexport const logout=()=>(dispatch)=>{\n  localStorage.removeItem('userInfo');\n  dispatch({type:USER_LOGOUT})\n}\n\nexport const register = (name,email,password) => async (dispatch) => {\n  try {\n    dispatch({ type: USER_REGISTER_REQUEST });\n    const config={\n      headers:{\n        'Content-Type':'application/json'\n      }\n    }\n\n\n    const { data } = await axios.post(\"api/user/\",{name,email,password},config);\n  \n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n\n    localStorage.setItem('userInfo',JSON.stringify(data))\n    \n  } catch (e) {\n    dispatch({\n      type: USER_REGISTER_FAILURE,\n      payload:\n        e.response && e.response.data.message\n          ? e.response.data.message\n          : e.message,\n    });\n  }\n};\n\nexport const getUserDetail = (id) => async (dispatch,getState) => {\n  try {\n    dispatch({ type: USER_DETAILS_REQUEST });\n    const {userLogin:{userInfo}}=getState();\n    console.log(userInfo.token);\n    const config={\n      headers:{\n        'Content-Type':'application/json',\n        Authorization:`Bearer ${userInfo.token}`\n      }\n    }\n\n    const { data } = await axios.get(`/api/user/${id}`, config)\n    console.log(data);\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\n\n  } catch (e) {\n    dispatch({\n      type: USER_DETAILS_FAILURE,\n      payload:\n        e.response && e.response.data.message\n          ? e.response.data.message\n          : e.message,\n    });\n  }\n};\n\nexport const listUser = () => async (dispatch,getState) => {\n  try {\n    dispatch({ type: USER_LIST_REQUEST });\n    const {userLogin:{userInfo}}=getState();\n\n    const config={\n      headers:{\n        'Content-Type':'application/json',\n        Authorization:`Bearer ${userInfo.token}`\n      }\n    }\n\n    const { data } = await axios.get(`/api/user`, config)\n    dispatch({ type: USER_LIST_SUCCESS, payload: data });\n\n  } catch (e) {\n    dispatch({\n      type: USER_LIST_FAILURE,\n      payload:\n        e.response && e.response.data.message\n          ? e.response.data.message\n          : e.message,\n    });\n  }\n};"]},"metadata":{},"sourceType":"module"}